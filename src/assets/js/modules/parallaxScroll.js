import LocomotiveScroll from 'locomotive-scroll';
 const imagesLoaded = require("imagesloaded");

const scrollContainer = document.querySelector('[data-scroll-container]');

const initLocomotive = () => {
	if (scrollContainer === null) {
		return;
	} 

	const scroll = new LocomotiveScroll({
		el: scrollContainer,
		smooth: true,
		touchMultiplier: 2,
		smartphone: {
			smooth: true
		},
		tablet: {
			smooth: true
		},
		scrollFromAnywhere: true,
		getDirection: true,
		resetNativeScroll: false,
	}); 

	imagesLoaded(scrollContainer, { background: true }, function () {
		scroll.update();
	});

	setTimeout(function() {
		scroll.update();
	}, 2000);	
	
	const machineImages = {
		1: 'background-image: url(assets/images/showcase/new/multiplier-image-1.jpg);',
		2: 'background-image: url(assets/images/showcase/new/multiplier-image-2.jpg);',
		3: 'background-image: url(assets/images/showcase/new/multiplier-image-3.jpg);',
		4: 'background-image: url(assets/images/showcase/new/multiplier-image-4.jpg);',
		5: 'background-image: url(assets/images/showcase/new/multiplier-image-5.jpg);',
		6: 'background-image: url(assets/images/showcase/new/multiplier-image-6.jpg);',
		7: 'background-image: url(assets/images/showcase/new/multiplier-image-7.jpg);',
		8: 'background-image: url(assets/images/showcase/new/multiplier-image-8.jpg);',
		9: 'background-image: url(assets/images/showcase/new/multiplier-image-9.jpg);',
		10: 'background-image: url(assets/images/showcase/new/multiplier-image-10.jpg);',
		11: 'background-image: url(assets/images/showcase/new/multiplier-image-11.jpg);',
		12: 'background-image: url(assets/images/showcase/new/multiplier-image-12.jpg);',
		13: 'background-image: url(assets/images/showcase/new/multiplier-image-13.jpg);',
		14: 'background-image: url(assets/images/showcase/new/multiplier-image-14.jpg);',
		15: 'background-image: url(assets/images/showcase/new/multiplier-image-15.jpg);',
		16: 'background-image: url(assets/images/showcase/new/multiplier-image-16.jpg);',
		17: 'background-image: url(assets/images/showcase/new/multiplier-image-17.jpg);',
		18: 'background-image: url(assets/images/showcase/new/multiplier-image-18.jpg);',
		19: 'background-image: url(assets/images/showcase/new/multiplier-image-19.jpg);',
		20: 'background-image: url(assets/images/showcase/new/multiplier-image-20.jpg);',
		21: 'background-image: url(assets/images/showcase/new/multiplier-image-21.jpg);',
		22: 'background-image: url(assets/images/showcase/new/multiplier-image-22.jpg);',
		23: 'background-image: url(assets/images/showcase/new/multiplier-image-23.jpg);',
		24: 'background-image: url(assets/images/showcase/new/multiplier-image-24.jpg);',
		25: 'background-image: url(assets/images/showcase/new/multiplier-image-25.jpg);',
		26: 'background-image: url(assets/images/showcase/new/multiplier-image-26.jpg);',
		27: 'background-image: url(assets/images/showcase/new/multiplier-image-27.jpg);',
		28: 'background-image: url(assets/images/showcase/new/multiplier-image-28.jpg);',
		29: 'background-image: url(assets/images/showcase/new/multiplier-image-29.jpg);',
		30: 'background-image: url(assets/images/showcase/new/multiplier-image-30.jpg);',
		31: 'background-image: url(assets/images/showcase/new/multiplier-image-31.jpg);',
		32: 'background-image: url(assets/images/showcase/new/multiplier-image-32.jpg);',
		33: 'background-image: url(assets/images/showcase/new/multiplier-image-33.jpg);',
		34: 'background-image: url(assets/images/showcase/new/multiplier-image-34.jpg);',
		35: 'background-image: url(assets/images/showcase/new/multiplier-image-35.jpg);',
		36: 'background-image: url(assets/images/showcase/new/multiplier-image-36.jpg);',
		37: 'background-image: url(assets/images/showcase/new/multiplier-image-37.jpg);',
		38: 'background-image: url(assets/images/showcase/new/multiplier-image-38.jpg);',
		39: 'background-image: url(assets/images/showcase/new/multiplier-image-39.jpg);',
		40: 'background-image: url(assets/images/showcase/new/multiplier-image-40.jpg);',
		41: 'background-image: url(assets/images/showcase/new/multiplier-image-41.jpg);',
		42: 'background-image: url(assets/images/showcase/new/multiplier-image-42.jpg);',
		43: 'background-image: url(assets/images/showcase/new/multiplier-image-43.jpg);',
		44: 'background-image: url(assets/images/showcase/new/multiplier-image-44.jpg);',
		45: 'background-image: url(assets/images/showcase/new/multiplier-image-45.jpg);',
		46: 'background-image: url(assets/images/showcase/new/multiplier-image-46.jpg);',
		47: 'background-image: url(assets/images/showcase/new/multiplier-image-47.jpg);',
		48: 'background-image: url(assets/images/showcase/new/multiplier-image-48.jpg);',
		49: 'background-image: url(assets/images/showcase/new/multiplier-image-49.jpg);',
		50: 'background-image: url(assets/images/showcase/new/multiplier-image-50.jpg);',
		51: 'background-image: url(assets/images/showcase/new/multiplier-image-51.jpg);',
		52: 'background-image: url(assets/images/showcase/new/multiplier-image-52.jpg);',
		53: 'background-image: url(assets/images/showcase/new/multiplier-image-53.jpg);',
		54: 'background-image: url(assets/images/showcase/new/multiplier-image-54.jpg);',
		55: 'background-image: url(assets/images/showcase/new/multiplier-image-55.jpg);',
		56: 'background-image: url(assets/images/showcase/new/multiplier-image-56.jpg);',
		57: 'background-image: url(assets/images/showcase/new/multiplier-image-57.jpg);',
		58: 'background-image: url(assets/images/showcase/new/multiplier-image-58.jpg);',
		59: 'background-image: url(assets/images/showcase/new/multiplier-image-59.jpg);',
		60: 'background-image: url(assets/images/showcase/new/multiplier-image-60.jpg);',
		61: 'background-image: url(assets/images/showcase/new/multiplier-image-61.jpg);',
		62: 'background-image: url(assets/images/showcase/new/multiplier-image-62.jpg);',
		63: 'background-image: url(assets/images/showcase/new/multiplier-image-63.jpg);',
		64: 'background-image: url(assets/images/showcase/new/multiplier-image-64.jpg);',
		65: 'background-image: url(assets/images/showcase/new/multiplier-image-65.jpg);',
		66: 'background-image: url(assets/images/showcase/new/multiplier-image-66.jpg);',
		67: 'background-image: url(assets/images/showcase/new/multiplier-image-67.jpg);',
		68: 'background-image: url(assets/images/showcase/new/multiplier-image-68.jpg);',
		69: 'background-image: url(assets/images/showcase/new/multiplier-image-69.jpg);',
		70: 'background-image: url(assets/images/showcase/new/multiplier-image-70.jpg);',
		71: 'background-image: url(assets/images/showcase/new/multiplier-image-71.jpg);',
		72: 'background-image: url(assets/images/showcase/new/multiplier-image-72.jpg);',
		73: 'background-image: url(assets/images/showcase/new/multiplier-image-73.jpg);',
		74: 'background-image: url(assets/images/showcase/new/multiplier-image-74.jpg);',
		75: 'background-image: url(assets/images/showcase/new/multiplier-image-75.jpg);',
		76: 'background-image: url(assets/images/showcase/new/multiplier-image-76.jpg);',
		77: 'background-image: url(assets/images/showcase/new/multiplier-image-77.jpg);',
		78: 'background-image: url(assets/images/showcase/new/multiplier-image-78.jpg);',
		79: 'background-image: url(assets/images/showcase/new/multiplier-image-79.jpg);',
		80: 'background-image: url(assets/images/showcase/new/multiplier-image-80.jpg);',
		81: 'background-image: url(assets/images/showcase/new/multiplier-image-81.jpg);',
		82: 'background-image: url(assets/images/showcase/new/multiplier-image-82.jpg);',
		83: 'background-image: url(assets/images/showcase/new/multiplier-image-83.jpg);',
		84: 'background-image: url(assets/images/showcase/new/multiplier-image-84.jpg);',
		85: 'background-image: url(assets/images/showcase/new/multiplier-image-85.jpg);',
		86: 'background-image: url(assets/images/showcase/new/multiplier-image-86.jpg);',
		87: 'background-image: url(assets/images/showcase/new/multiplier-image-87.jpg);',
		88: 'background-image: url(assets/images/showcase/new/multiplier-image-88.jpg);',
		89: 'background-image: url(assets/images/showcase/new/multiplier-image-89.jpg);',
		90: 'background-image: url(assets/images/showcase/new/multiplier-image-90.jpg);',
		91: 'background-image: url(assets/images/showcase/new/multiplier-image-91.jpg);',
		92: 'background-image: url(assets/images/showcase/new/multiplier-image-92.jpg);',
		93: 'background-image: url(assets/images/showcase/new/multiplier-image-93.jpg);',
		94: 'background-image: url(assets/images/showcase/new/multiplier-image-94.jpg);',
		95: 'background-image: url(assets/images/showcase/new/multiplier-image-95.jpg);',
		96: 'background-image: url(assets/images/showcase/new/multiplier-image-96.jpg);',
		97: 'background-image: url(assets/images/showcase/new/multiplier-image-97.jpg);',
		98: 'background-image: url(assets/images/showcase/new/multiplier-image-98.jpg);',
		99: 'background-image: url(assets/images/showcase/new/multiplier-image-99.jpg);',
		100: 'background-image: url(assets/images/showcase/new/multiplier-image-100.jpg);',
		101: 'background-image: url(assets/images/showcase/new/multiplier-image-101.jpg);',
		102: 'background-image: url(assets/images/showcase/new/multiplier-image-102.jpg);',
		103: 'background-image: url(assets/images/showcase/new/multiplier-image-103.jpg);',
		104: 'background-image: url(assets/images/showcase/new/multiplier-image-104.jpg);',
		105: 'background-image: url(assets/images/showcase/new/multiplier-image-105.jpg);',
		106: 'background-image: url(assets/images/showcase/new/multiplier-image-106.jpg);',
		107: 'background-image: url(assets/images/showcase/new/multiplier-image-107.jpg);',
		108: 'background-image: url(assets/images/showcase/new/multiplier-image-108.jpg);',
		109: 'background-image: url(assets/images/showcase/new/multiplier-image-109.jpg);',
		110: 'background-image: url(assets/images/showcase/new/multiplier-image-110.jpg);',
		111: 'background-image: url(assets/images/showcase/new/multiplier-image-111.jpg);',
		112: 'background-image: url(assets/images/showcase/new/multiplier-image-112.jpg);',
		113: 'background-image: url(assets/images/showcase/new/multiplier-image-113.jpg);',
		114: 'background-image: url(assets/images/showcase/new/multiplier-image-114.jpg);',
		115: 'background-image: url(assets/images/showcase/new/multiplier-image-115.jpg);',
		116: 'background-image: url(assets/images/showcase/new/multiplier-image-116.jpg);',
		117: 'background-image: url(assets/images/showcase/new/multiplier-image-117.jpg);',
		118: 'background-image: url(assets/images/showcase/new/multiplier-image-118.jpg);',
		119: 'background-image: url(assets/images/showcase/new/multiplier-image-119.jpg);',
		120: 'background-image: url(assets/images/showcase/new/multiplier-image-120.jpg);',
		121: 'background-image: url(assets/images/showcase/new/multiplier-image-121.jpg);',
		122: 'background-image: url(assets/images/showcase/new/multiplier-image-122.jpg);',
		123: 'background-image: url(assets/images/showcase/new/multiplier-image-123.jpg);',
		124: 'background-image: url(assets/images/showcase/new/multiplier-image-124.jpg);',
		125: 'background-image: url(assets/images/showcase/new/multiplier-image-125.jpg);',
		126: 'background-image: url(assets/images/showcase/new/multiplier-image-126.jpg);',
		127: 'background-image: url(assets/images/showcase/new/multiplier-image-127.jpg);',
		128: 'background-image: url(assets/images/showcase/new/multiplier-image-128.jpg);',
		129: 'background-image: url(assets/images/showcase/new/multiplier-image-129.jpg);',
		130: 'background-image: url(assets/images/showcase/new/multiplier-image-130.jpg);',
		131: 'background-image: url(assets/images/showcase/new/multiplier-image-131.jpg);',
		132: 'background-image: url(assets/images/showcase/new/multiplier-image-132.jpg);',
		133: 'background-image: url(assets/images/showcase/new/multiplier-image-133.jpg);',
		134: 'background-image: url(assets/images/showcase/new/multiplier-image-134.jpg);',
		135: 'background-image: url(assets/images/showcase/new/multiplier-image-135.jpg);',
		136: 'background-image: url(assets/images/showcase/new/multiplier-image-136.jpg);',
		137: 'background-image: url(assets/images/showcase/new/multiplier-image-137.jpg);',
		138: 'background-image: url(assets/images/showcase/new/multiplier-image-138.jpg);',
		139: 'background-image: url(assets/images/showcase/new/multiplier-image-139.jpg);',
		140: 'background-image: url(assets/images/showcase/new/multiplier-image-140.jpg);',
		141: 'background-image: url(assets/images/showcase/new/multiplier-image-141.jpg);',
		142: 'background-image: url(assets/images/showcase/new/multiplier-image-142.jpg);',
		143: 'background-image: url(assets/images/showcase/new/multiplier-image-143.jpg);',
		144: 'background-image: url(assets/images/showcase/new/multiplier-image-144.jpg);',
		145: 'background-image: url(assets/images/showcase/new/multiplier-image-145.jpg);',
		146: 'background-image: url(assets/images/showcase/new/multiplier-image-146.jpg);',
		147: 'background-image: url(assets/images/showcase/new/multiplier-image-147.jpg);',
		148: 'background-image: url(assets/images/showcase/new/multiplier-image-148.jpg);',
		149: 'background-image: url(assets/images/showcase/new/multiplier-image-149.jpg);',
		150: 'background-image: url(assets/images/showcase/new/multiplier-image-150.jpg);',
		151: 'background-image: url(assets/images/showcase/new/multiplier-image-151.jpg);',
		152: 'background-image: url(assets/images/showcase/new/multiplier-image-152.jpg);',
		153: 'background-image: url(assets/images/showcase/new/multiplier-image-153.jpg);',
		154: 'background-image: url(assets/images/showcase/new/multiplier-image-154.jpg);',
		155: 'background-image: url(assets/images/showcase/new/multiplier-image-155.jpg);',
		156: 'background-image: url(assets/images/showcase/new/multiplier-image-156.jpg);',
		157: 'background-image: url(assets/images/showcase/new/multiplier-image-157.jpg);',
		158: 'background-image: url(assets/images/showcase/new/multiplier-image-158.jpg);',
		159: 'background-image: url(assets/images/showcase/new/multiplier-image-159.jpg);',
		160: 'background-image: url(assets/images/showcase/new/multiplier-image-160.jpg);',
		161: 'background-image: url(assets/images/showcase/new/multiplier-image-161.jpg);',
		162: 'background-image: url(assets/images/showcase/new/multiplier-image-162.jpg);',
		163: 'background-image: url(assets/images/showcase/new/multiplier-image-163.jpg);',
		164: 'background-image: url(assets/images/showcase/new/multiplier-image-164.jpg);',
		165: 'background-image: url(assets/images/showcase/new/multiplier-image-165.jpg);',
		166: 'background-image: url(assets/images/showcase/new/multiplier-image-166.jpg);',
		167: 'background-image: url(assets/images/showcase/new/multiplier-image-167.jpg);',
		168: 'background-image: url(assets/images/showcase/new/multiplier-image-168.jpg);',
		169: 'background-image: url(assets/images/showcase/new/multiplier-image-169.jpg);',
		170: 'background-image: url(assets/images/showcase/new/multiplier-image-170.jpg);',
		171: 'background-image: url(assets/images/showcase/new/multiplier-image-171.jpg);',
		172: 'background-image: url(assets/images/showcase/new/multiplier-image-172.jpg);',
		173: 'background-image: url(assets/images/showcase/new/multiplier-image-173.jpg);',
		174: 'background-image: url(assets/images/showcase/new/multiplier-image-174.jpg);',
		175: 'background-image: url(assets/images/showcase/new/multiplier-image-175.jpg);',
		176: 'background-image: url(assets/images/showcase/new/multiplier-image-176.jpg);',
		177: 'background-image: url(assets/images/showcase/new/multiplier-image-177.jpg);',
		178: 'background-image: url(assets/images/showcase/new/multiplier-image-178.jpg);',
		179: 'background-image: url(assets/images/showcase/new/multiplier-image-179.jpg);',
		180: 'background-image: url(assets/images/showcase/new/multiplier-image-180.jpg);',
		181: 'background-image: url(assets/images/showcase/new/multiplier-image-181.jpg);',
		182: 'background-image: url(assets/images/showcase/new/multiplier-image-182.jpg);',
		183: 'background-image: url(assets/images/showcase/new/multiplier-image-183.jpg);',
		184: 'background-image: url(assets/images/showcase/new/multiplier-image-184.jpg);',
		185: 'background-image: url(assets/images/showcase/new/multiplier-image-185.jpg);',
		186: 'background-image: url(assets/images/showcase/new/multiplier-image-186.jpg);',
		187: 'background-image: url(assets/images/showcase/new/multiplier-image-187.jpg);',
		188: 'background-image: url(assets/images/showcase/new/multiplier-image-188.jpg);',
		189: 'background-image: url(assets/images/showcase/new/multiplier-image-189.jpg);',
		190: 'background-image: url(assets/images/showcase/new/multiplier-image-190.jpg);',
		191: 'background-image: url(assets/images/showcase/new/multiplier-image-191.jpg);',
		192: 'background-image: url(assets/images/showcase/new/multiplier-image-192.jpg);',
		193: 'background-image: url(assets/images/showcase/new/multiplier-image-193.jpg);',
		194: 'background-image: url(assets/images/showcase/new/multiplier-image-194.jpg);',
		195: 'background-image: url(assets/images/showcase/new/multiplier-image-195.jpg);',
		196: 'background-image: url(assets/images/showcase/new/multiplier-image-196.jpg);',
		197: 'background-image: url(assets/images/showcase/new/multiplier-image-197.jpg);',
	}
	
	let i = 1;

	scroll.on('scroll', function(e) {
		if ($('.js-showcase').hasClass('is-inview')) {
			if (e.direction === 'down' && i < 197) {
				i++;
			} else if (e.direction === 'up' && i > 1){
				i--;
			};
			const y = e.scroll.y;
			let label = Math.min(Math.floor(y/30), i);
			const imageToUse = machineImages[label];
			$('.js-showcase-gallery').attr('style', `${imageToUse}`);
		};
	});
};

if(! ('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)) {
	initLocomotive(); 
};


